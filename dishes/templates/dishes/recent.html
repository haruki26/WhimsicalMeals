{% extends "dishes/base.html" %}
{% load static %}
{% load compress %}

{% block title %}最新の料理{% endblock %}

{% block extra_css %}
{{ block.super }}
{% compress css %}
<link rel="stylesheet" type="text/x-scss" href="{% static 'dishes/scss/pages/recent.scss' %}">
{% endcompress %}
{% endblock %}

{% block dishes_content %}
<section class="recent-dishes-section">
    <div class="container">
        <h1>🆕 みんなの最新料理</h1>
        <p class="section-description">最近生成された面白い架空料理をチェック！</p>
        
        {% if user.is_authenticated %}
            <div class="user-actions">
                <a href="{% url 'dishes:generate' %}" class="btn btn-primary">
                    🎲 料理を生成する
                </a>
                <a href="{% url 'dishes:list' %}" class="btn btn-outline">
                    📋 マイ料理を見る
                </a>
            </div>
        {% else %}
            <div class="guest-info">
                <p>
                    <a href="{% url 'users:login' %}">ログイン</a>すると、
                    料理を生成したり、いいねを付けたりできます！
                </p>
            </div>
        {% endif %}
        
        <div class="recent-dishes-container">
            {% include "components/recent_dishes.html" with dishes=dishes show_more_link=False %}
        </div>
        
        <!-- ページネーション -->
        {% include "components/pagination.html" %}
        
        <div class="page-actions">
            <a href="{% url 'dishes:ranking' %}" class="btn btn-secondary">
                🏆 人気ランキングを見る
            </a>
            {% if user.is_authenticated %}
                <a href="{% url 'dishes:list' %}" class="btn btn-outline">
                    📋 自分の料理を見る
                </a>
            {% endif %}
        </div>
    </div>
</section>
{% endblock %}
