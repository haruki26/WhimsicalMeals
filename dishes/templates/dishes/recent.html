{% extends "dishes/base.html" %}
{% load static %}
{% load compress %}

{% block title %}æœ€æ–°ã®æ–™ç†{% endblock %}

{% block extra_css %}
{{ block.super }}
{% compress css %}
<link rel="stylesheet" type="text/x-scss" href="{% static 'dishes/scss/pages/recent.scss' %}">
{% endcompress %}
{% endblock %}

{% block dishes_content %}
<section class="recent-dishes-section">
    <div class="container">
        <h1>ğŸ†• ã¿ã‚“ãªã®æœ€æ–°æ–™ç†</h1>
        <p class="section-description">æœ€è¿‘ç”Ÿæˆã•ã‚ŒãŸé¢ç™½ã„æ¶ç©ºæ–™ç†ã‚’ãƒã‚§ãƒƒã‚¯ï¼</p>
        
        {% if user.is_authenticated %}
            <div class="user-actions">
                <a href="{% url 'dishes:generate' %}" class="btn btn-primary">
                    ğŸ² æ–™ç†ã‚’ç”Ÿæˆã™ã‚‹
                </a>
                <a href="{% url 'dishes:list' %}" class="btn btn-outline">
                    ğŸ“‹ ãƒã‚¤æ–™ç†ã‚’è¦‹ã‚‹
                </a>
            </div>
        {% else %}
            <div class="guest-info">
                <p>
                    <a href="{% url 'users:login' %}">ãƒ­ã‚°ã‚¤ãƒ³</a>ã™ã‚‹ã¨ã€
                    æ–™ç†ã‚’ç”Ÿæˆã—ãŸã‚Šã€ã„ã„ã­ã‚’ä»˜ã‘ãŸã‚Šã§ãã¾ã™ï¼
                </p>
            </div>
        {% endif %}
        
        <div class="recent-dishes-container">
            {% include "components/recent_dishes.html" with dishes=dishes show_more_link=False %}
        </div>
        
        <!-- ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ -->
        {% include "components/pagination.html" %}
        
        <div class="page-actions">
            <a href="{% url 'dishes:ranking' %}" class="btn btn-secondary">
                ğŸ† äººæ°—ãƒ©ãƒ³ã‚­ãƒ³ã‚°ã‚’è¦‹ã‚‹
            </a>
            {% if user.is_authenticated %}
                <a href="{% url 'dishes:list' %}" class="btn btn-outline">
                    ğŸ“‹ è‡ªåˆ†ã®æ–™ç†ã‚’è¦‹ã‚‹
                </a>
            {% endif %}
        </div>
    </div>
</section>
{% endblock %}
