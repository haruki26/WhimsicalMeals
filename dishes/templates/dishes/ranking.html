{% extends 'dishes/base.html' %}
{% load static %}
{% load compress %}

{% block title %}料理ランキング - 気まぐれレシピ研究所{% endblock %}

{% block extra_css %}
{{ block.super }}
{% compress css %}
<link rel="stylesheet" type="text/x-scss" href="{% static 'dishes/scss/pages/ranking.scss' %}">
{% endcompress %}
{% endblock %}

{% block dishes_content %}
<section class="ranking-section">
    <div class="container">
        <h1>🏆 料理ランキング</h1>
        <p class="section-description">みんなが生成した面白い架空料理をいいね数順にランキング！</p>

        {% if user.is_authenticated %}
            <div class="user-actions">
                <a href="{% url 'dishes:generate' %}" class="btn btn-primary">
                    🎲 料理を生成する
                </a>
                <a href="{% url 'dishes:list' %}" class="btn btn-outline">
                    📋 マイ料理を見る
                </a>
            </div>
        {% else %}
            <div class="guest-info">
                <p>
                    <a href="{% url 'users:login' %}">ログイン</a>すると、
                    料理を生成したり、いいねを付けたりできます！
                </p>
            </div>
        {% endif %}

        <!-- ランキングコンポーネント -->
        {% include "components/ranking.html" with dishes=dishes show_more_link=False %}
        
        <!-- ページネーション -->
        {% include "components/pagination.html" %}
    </div>
</section>
{% endblock %}
